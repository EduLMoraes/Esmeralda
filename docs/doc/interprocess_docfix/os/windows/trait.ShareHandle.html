<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Objects which own handles which can be shared with another processes."><title>ShareHandle in interprocess_docfix::os::windows - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="interprocess_docfix" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.1 (a28077b28 2023-12-04)" data-channel="1.74.1" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../interprocess_docfix/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../../interprocess_docfix/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">ShareHandle</a></h2><div class="sidebar-elems"><section><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.share">share</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In interprocess_docfix::os::windows</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../../index.html">interprocess_docfix</a>::<wbr><a href="../index.html">os</a>::<wbr><a href="index.html">windows</a>::<wbr><a class="trait" href="#">ShareHandle</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/interprocess_docfix/os/windows/mod.rs.html#27-52">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ShareHandle: AsRawHandle {
    // Provided method
    fn <a href="#method.share" class="fn">share</a>(&amp;self, reciever: <a class="primitive" href="https://doc.rust-lang.org/1.74.1/std/primitive.pointer.html">*mut </a><a class="enum" href="https://doc.rust-lang.org/1.74.1/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.74.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.74.1/std/primitive.pointer.html">*mut </a><a class="enum" href="https://doc.rust-lang.org/1.74.1/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Objects which own handles which can be shared with another processes.</p>
<p>On Windows, like with most other operating systems, handles belong to specific processes. You shouldn’t just send the value of a handle to another process (with a named pipe, for example) and expect it to work on the other side. For this to work, you need <a href="https://docs.microsoft.com/en-us/windows/win32/api/handleapi/nf-handleapi-duplicatehandle" title=" "><code>DuplicateHandle</code></a> – the Win32 API function which duplicates a handle into the handle table of the specified process (the reciever is referred to by its handle). This trait exposes the <code>DuplicateHandle</code> functionality in a safe manner. If the handle is <em>inheritable</em>, however, all child processes of a process inherit the handle and thus can use the same value safely without the need to share it. <em>All Windows handle objects created by this crate are inheritable.</em></p>
<p><strong>Implemented for all types inside this crate which implement <a href="https://doc.rust-lang.org/std/os/windows/io/trait.AsRawHandle.html" title=" "><code>AsRawHandle</code></a> and are supposed to be shared between processes.</strong></p>
</div></details><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.share" class="method"><a class="src rightside" href="../../../src/interprocess_docfix/os/windows/mod.rs.html#32-51">source</a><h4 class="code-header">fn <a href="#method.share" class="fn">share</a>(&amp;self, reciever: <a class="primitive" href="https://doc.rust-lang.org/1.74.1/std/primitive.pointer.html">*mut </a><a class="enum" href="https://doc.rust-lang.org/1.74.1/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.74.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.74.1/std/primitive.pointer.html">*mut </a><a class="enum" href="https://doc.rust-lang.org/1.74.1/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>&gt;</h4></section></summary><div class="docblock"><p>Duplicates the handle to make it accessible in the specified process (taken as a handle to that process) and returns the raw value of the handle which can then be sent via some form of IPC, typically named pipes. This is the only way to use any form of IPC other than named pipes to communicate between two processes which do not have a parent-child relationship or if the handle wasn’t created as inheritable, therefore named pipes paired with this are a hard requirement in order to communicate between processes if one wasn’t spawned by another.</p>
<p>Backed by [<code>DuplicateHandle</code>]. Doesn’t require unsafe code since <code>DuplicateHandle</code> never leads to undefined behavior if the <code>lpTargetHandle</code> parameter is a valid pointer, only creates an error.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../../implementors/interprocess_docfix/os/windows/trait.ShareHandle.js" async></script></section></div></main></body></html>