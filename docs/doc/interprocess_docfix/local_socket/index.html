<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Local sockets, an IPC primitive featuring a server and multiple clients connecting to that server using a filesystem path inside a special namespace, each having a private connection to that server."><title>interprocess_docfix::local_socket - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="interprocess_docfix" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.1 (a28077b28 2023-12-04)" data-channel="1.74.1" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../interprocess_docfix/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../interprocess_docfix/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module local_socket</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">interprocess_docfix</a>::<wbr><a class="mod" href="#">local_socket</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/interprocess_docfix/local_socket/mod.rs.html#1-31">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Local sockets, an IPC primitive featuring a server and multiple clients connecting to that server using a filesystem path inside a special namespace, each having a private connection to that server.</p>
<p>Local sockets are not a real IPC method implemented by the OS – they were introduced because of the difference between named pipes on Windows and Unix: named pipes on Windows are almost the same as Unix domain sockets on Linux while Unix named pipes (which are referred to as FIFO files in this crate to avoid confusion) are like unnamed pipes but identifiable with a filesystem path: there’s no distinction between writers and the first reader takes all. <strong>Simply put, local sockets use named pipes on Windows and Unix domain sockets on Unix.</strong></p>
<h3 id="differences-from-regular-sockets"><a href="#differences-from-regular-sockets">Differences from regular sockets</a></h3>
<p>A few missing features, primarily on Windows, require local sockets to omit some important functionality, because code relying on it wouldn’t be portable. Some notable differences are:</p>
<ul>
<li>No <code>.shutdown()</code> – your communication protocol must manually negotiate end of transmission. Notably, <code>.read_to_string()</code> and <code>.read_all()</code> will always block indefinitely at some point. They will be changed to panic instead in a future version.</li>
<li>No vectored I/O – Windows named pipes use the Win32 file API, rather than the Winsock API, for read-write operations, so scatter-gather I/O works the same way it does with regular files, which is incompatible with the Rust standard library API for it.</li>
<li>No datagram sockets – the difference in semantics between connectionless datagram Ud-sockets and connection-based named message pipes on Windows does not allow bridging those two into a common API. Streams are fast enough anyway, so no big deal, right?</li>
</ul>
<h3 id="platform-specific-namespaces"><a href="#platform-specific-namespaces">Platform-specific namespaces</a></h3>
<p>There’s one more problem regarding platform differences: since only Linux supports putting Ud-sockets in a separate namespace which is isolated from the filesystem, the <code>LocalSocketName</code>/<code>LocalSocketNameBuf</code> types are used to identify local sockets rather than <code>OsStr</code>/<code>OsString</code>: on Unix platforms other than Linux, which includes macOS, all flavors of BSD and possibly other Unix-like systems, the only way to name a Ud-socket is to use a filesystem path. As such, those platforms don’t have the namespaced socket creation method available. Complicatng matters further, Windows does not support named pipes in the normal filesystem, meaning that namespaced local sockets are the only functional method on Windows. As a way to solve this issue, <code>LocalSocketName</code>/<code>LocalSocketNameBuf</code> only provide creation in a platform-specific way, meaning that crate users are required to use conditional compilation to decide on the socket names.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="tokio/index.html" title="mod interprocess_docfix::local_socket::tokio">tokio</a></div><div class="desc docblock-short">Asynchronous local sockets which work with the Tokio runtime and event loop.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Incoming.html" title="struct interprocess_docfix::local_socket::Incoming">Incoming</a></div><div class="desc docblock-short">An infinite iterator over incoming client connections of a <a href="struct.LocalSocketListener.html" title=" "><code>LocalSocketListener</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.LocalSocketListener.html" title="struct interprocess_docfix::local_socket::LocalSocketListener">LocalSocketListener</a></div><div class="desc docblock-short">A local socket server, listening for connections.</div></li><li><div class="item-name"><a class="struct" href="struct.LocalSocketName.html" title="struct interprocess_docfix::local_socket::LocalSocketName">LocalSocketName</a></div><div class="desc docblock-short">A name for a local socket.</div></li><li><div class="item-name"><a class="struct" href="struct.LocalSocketStream.html" title="struct interprocess_docfix::local_socket::LocalSocketStream">LocalSocketStream</a></div><div class="desc docblock-short">A local socket byte stream, obtained eiter from <a href="struct.LocalSocketListener.html" title=" "><code>LocalSocketListener</code></a> or by connecting to an existing local socket.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.NameTypeSupport.html" title="enum interprocess_docfix::local_socket::NameTypeSupport">NameTypeSupport</a></div><div class="desc docblock-short">Represents which kinds of identifiers can be used for a local socket’s name on the current platform.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ToLocalSocketName.html" title="trait interprocess_docfix::local_socket::ToLocalSocketName">ToLocalSocketName</a></div><div class="desc docblock-short">Types which can be converted to a local socket name.</div></li></ul></section></div></main></body></html>